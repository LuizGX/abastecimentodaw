<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org"
                   xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Gerenciador de Contatos com Spring Boot</title>
</head>
<body>
	<div th:fragment="logout" class="logout" sec:authorize="isAuthenticated()">		
		<p>Usuário Logado: <span sec:authentication="name"></span></p>
		<p>Papéis: <span sec:authentication="principal.authorities"></span></p>
		<p sec:authorize="hasRole('ROLE_ADMIN')">Se você está vendo isso é porque você é um ADMIN.</p>
		<p sec:authorize="hasRole('ROLE_USUARIO')">Se você está vendo isso é porque você é um USUARIO.</p>	
		<div>
			<form action="#" th:action="@{/logout}" method="post">					
				<input type="submit" value="Logout" />
			</form>
		</div>
	</div>
	<br>
	<h1>Abastecimentos</h1>
	<form action="#" th:action="@{/abastecimentos/todos}" method="get">
		<input type="submit" value="Mostrar Todos">
	</form>
	<form action="#" th:action="@{/abastecimentos/buscar}" method="post">
		<label for="id">idabastecimento:</label>
		<input type="number" name="idabastecimento" id="id" placeholder="id">
		<input type="submit" value="Buscar">
	</form>
	<form action="#" th:action="@{/abastecimentos/buscarcombustivel}" method="post">
		<label for="nome">tipocombustivel:</label>
		<input type="text" name="tipocombustivel" id="tipocombustivel" placeholder="tipocombustivel">
		<input type="submit" value="Buscar">
	</form>
	<form action="#" th:action="@{/abastecimentos/novo}" method="get">
		<input type="submit" value="Inserir">
	</form><hr>
	<h1>Veículos</h1>
	<form action="#" th:action="@{/veiculos/todos}" method="get">
		<input type="submit" value="Mostrar Todos">
	</form>
	<form action="#" th:action="@{/veiculos/buscar}" method="post">
		<label for="idVeiculo">idVeiculo:</label>
		<input type="number" name="idveiculo" id="idVeiculo" placeholder="idveiculo">
		<input type="submit" value="Buscar">
	</form>
	<form action="#" th:action="@{/veiculos/novoVeiculo}" method="get">
		<input type="submit" value="Inserir Veículo">
	</form>
	<a th:href="@{/relatorios/todosabastecimentos}">Relatório Todos os veículos</a>
</body>
</html>
